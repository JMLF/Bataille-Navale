\hypertarget{_c_fonction_server_8cpp_source}{}\doxysection{CFonction\+Server.\+cpp}
\mbox{\hyperlink{_c_fonction_server_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_c_fonction_server_8h}{CFonctionServer.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00006}\mbox{\hyperlink{class_c_fonction_server_a6db10a5881ee63fe1030df3c8bcc3c70}{00006}} \mbox{\hyperlink{class_c_fonction_server_a6db10a5881ee63fe1030df3c8bcc3c70}{CFonctionServer::CFonctionServer}}()}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00007}00007 \{}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00008}00008    \textcolor{comment}{// nbconnec = 0;}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00009}00009    \textcolor{comment}{//const ushort PORT\_NUM = 12345;}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00010}00010    \textcolor{comment}{//const ushort DIMMAX = 150;}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00011}00011 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00012}00012 \}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00013}00013 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00017}\mbox{\hyperlink{class_c_fonction_server_a2d9dd1ad5524b3d139c02001506aafa3}{00017}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_c_fonction_server_a2d9dd1ad5524b3d139c02001506aafa3}{CFonctionServer::initWinsock}}()}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00018}00018 \{}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00019}00019     WSAStartup(\mbox{\hyperlink{class_c_fonction_server_a0659095e530d18b574c17c85b27e0320}{nVersion}}, \&\mbox{\hyperlink{class_c_fonction_server_a56fb1354744833750af02333e7c75b8b}{donneeWS}});}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00020}00020     std::cout << \textcolor{stringliteral}{"{}Init de winsock "{}} << std::endl; \textcolor{comment}{//pour le debug }}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00021}00021 \}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00022}00022 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00027}\mbox{\hyperlink{class_c_fonction_server_a5cb26ce3652ce4e03d0359e5059f956e}{00027}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_c_fonction_server_a5cb26ce3652ce4e03d0359e5059f956e}{CFonctionServer::creaSockEcoute}}()}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00028}00028 \{}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00029}00029     \textcolor{keywordflow}{if} ((\mbox{\hyperlink{class_c_fonction_server_ac09fb8572cdfd9b5f57c84f7b69327d3}{ids\_ecoute}} = socket(AF\_INET, SOCK\_STREAM, 0)) == INVALID\_SOCKET)}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00030}00030     \{}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00031}00031         std::cout << \textcolor{stringliteral}{"{}Echec creation Socket ! "{}} << std::endl;}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00032}00032         exit(1);}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00033}00033     \}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00034}00034     std::cout << \textcolor{stringliteral}{"{}creation socket ecoute "{}} << std::endl; \textcolor{comment}{//pour le debug }}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00035}00035 \}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00040}\mbox{\hyperlink{class_c_fonction_server_a3e3d7fb72aa5d87d5a923183ed5b29b5}{00040}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_c_fonction_server_a3e3d7fb72aa5d87d5a923183ed5b29b5}{CFonctionServer::binding}}()}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00041}00041 \{}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00042}00042     \textcolor{comment}{// RAZ de la structure contenant @ inet serveur}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00043}00043     memset(\&\mbox{\hyperlink{class_c_fonction_server_abdb45b5ea476aad84fa9884da5a1f1a7}{adr\_serveur}}, 0, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_c_fonction_server_abdb45b5ea476aad84fa9884da5a1f1a7}{adr\_serveur}}));}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00044}00044     \textcolor{comment}{// Mise en forme de l'@ du socket d'écoute et attachement du socket}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00045}00045     \mbox{\hyperlink{class_c_fonction_server_abdb45b5ea476aad84fa9884da5a1f1a7}{adr\_serveur}}.sin\_family = AF\_INET;            \textcolor{comment}{// Domain d'@ }}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00046}00046     \mbox{\hyperlink{class_c_fonction_server_abdb45b5ea476aad84fa9884da5a1f1a7}{adr\_serveur}}.sin\_port = htons(\mbox{\hyperlink{class_c_fonction_server_a875fef903bc7b782db2186f6023bd830}{PORT\_NUM}});    \textcolor{comment}{// N° du port }}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00047}00047     \mbox{\hyperlink{class_c_fonction_server_abdb45b5ea476aad84fa9884da5a1f1a7}{adr\_serveur}}.sin\_addr.s\_addr = htonl(INADDR\_ANY);  \textcolor{comment}{// n'importe quel }}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00048}00048                                      \textcolor{comment}{// interface réseau}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00049}00049 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00050}00050     \textcolor{keywordflow}{if} (bind(\mbox{\hyperlink{class_c_fonction_server_ac09fb8572cdfd9b5f57c84f7b69327d3}{ids\_ecoute}}, (\textcolor{keyword}{struct} sockaddr*)\&\mbox{\hyperlink{class_c_fonction_server_abdb45b5ea476aad84fa9884da5a1f1a7}{adr\_serveur}},}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00051}00051         \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_c_fonction_server_abdb45b5ea476aad84fa9884da5a1f1a7}{adr\_serveur}})) == SOCKET\_ERROR)}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00052}00052     \{}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00053}00053         std::cout << \textcolor{stringliteral}{"{}Echec Attachement Socket ! "{}} << std::endl;}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00054}00054         exit(1);}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00055}00055     \}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00056}00056     std::cout << \textcolor{stringliteral}{"{}bind socket ecoute sur le port : "{}} << std::to\_string(\mbox{\hyperlink{class_c_fonction_server_a875fef903bc7b782db2186f6023bd830}{PORT\_NUM}}) << std::endl; \textcolor{comment}{//pour le debug }}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00057}00057 \}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00058}00058 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00062}\mbox{\hyperlink{class_c_fonction_server_a9a126acc793ba7a3832d26673ddff03e}{00062}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_c_fonction_server_a9a126acc793ba7a3832d26673ddff03e}{CFonctionServer::listening}}()}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00063}00063 \{}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00064}00064     \textcolor{keywordflow}{if} (listen(\mbox{\hyperlink{class_c_fonction_server_ac09fb8572cdfd9b5f57c84f7b69327d3}{ids\_ecoute}}, 2) == SOCKET\_ERROR)}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00065}00065     \{}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00066}00066         std::cout << \textcolor{stringliteral}{"{}Echec Lecture ! "{}} << std::endl;}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00067}00067         exit(1);}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00068}00068     \}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00069}00069     std::cout << \textcolor{stringliteral}{"{}Serveur en ecoute "{}} << std::endl; \textcolor{comment}{//pour le debug }}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00070}00070 \}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00071}00071 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00076}\mbox{\hyperlink{class_c_fonction_server_a6e26293df5d978d9dfe7275e310e023a}{00076}} \mbox{\hyperlink{_c_fonction_server_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} \mbox{\hyperlink{class_c_fonction_server_a6e26293df5d978d9dfe7275e310e023a}{CFonctionServer::accepting}}()}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00077}00077 \{}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00078}00078 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00079}00079      \textcolor{comment}{// Acceptation d'une connexion cliente, création d'un nouveau socket qui }}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00080}00080         \textcolor{comment}{// sera utilisé pour l'émission et la réception des caractères }}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00081}00081         \textcolor{comment}{// @ inet du clietnt est récupérée}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00082}00082     \mbox{\hyperlink{class_c_fonction_server_a9f199f44afc4fd9ceb90279f4a43f08f}{addr\_len}} = \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_c_fonction_server_a54f2383b8b48af8288a835e273dfbfa7}{adr\_client}});}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00083}00083 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00084}00084     \mbox{\hyperlink{class_c_fonction_server_a31b1a03bca62ca426f7d98e34ed9e496}{ids\_connect}} = accept(\mbox{\hyperlink{class_c_fonction_server_ac09fb8572cdfd9b5f57c84f7b69327d3}{ids\_ecoute}}, (\textcolor{keyword}{struct} sockaddr*)\&\mbox{\hyperlink{class_c_fonction_server_a54f2383b8b48af8288a835e273dfbfa7}{adr\_client}}, \&\mbox{\hyperlink{class_c_fonction_server_a9f199f44afc4fd9ceb90279f4a43f08f}{addr\_len}});}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00085}00085     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_c_fonction_server_a31b1a03bca62ca426f7d98e34ed9e496}{ids\_connect}}; }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00086}00086     std::cout << \textcolor{stringliteral}{"{}Client accepté "{}} << std::endl; \textcolor{comment}{//pour le debug }}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00087}00087 \}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00088}00088 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00094}\mbox{\hyperlink{class_c_fonction_server_aa3471ed0745eebf4255fb8ec74aff8a3}{00094}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_c_fonction_server_aa3471ed0745eebf4255fb8ec74aff8a3}{CFonctionServer::communication}}(\mbox{\hyperlink{_c_fonction_server_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} ids\_connect, \mbox{\hyperlink{_c_fonction_server_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} ids\_connect1)}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00095}00095 \{}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00096}00096     \textcolor{keyword}{const} \mbox{\hyperlink{_c_fonction_server_8h_ab95f123a6c9bcfee6a343170ef8c5f69}{ushort}} \mbox{\hyperlink{class_c_fonction_server_a55ac9ccdcf4081d228fb8f4e633f893a}{DIMMAX}} = 150; \textcolor{comment}{// Taille max des tableaux}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00097}00097 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00098}00098 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00099}00099 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00100}00100     \textcolor{keywordtype}{char} trame\_lect[\mbox{\hyperlink{class_c_fonction_server_a55ac9ccdcf4081d228fb8f4e633f893a}{DIMMAX}} + 1];}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00101}00101     \textcolor{keywordtype}{char} trame\_lect1[\mbox{\hyperlink{class_c_fonction_server_a55ac9ccdcf4081d228fb8f4e633f893a}{DIMMAX}} + 1];}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00102}00102     std::string recive;}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00103}00103     std::string recive1;}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00104}00104 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00105}00105     std::string waiting = \textcolor{stringliteral}{"{}Serveur: Vous etes connecte"{}};}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00106}00106 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00107}00107 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00108}00108 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00109}00109    \textcolor{comment}{// send(ids\_connect, waiting.c\_str(), waiting.size() + 1, 0);}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00110}00110     send(\mbox{\hyperlink{class_c_fonction_server_ac6b682d33f038a956da36c862ffc1484}{ids\_connect1}}, waiting.c\_str(), waiting.size() + 1, 0);}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00111}00111     \mbox{\hyperlink{_c_fonction_server_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} \mbox{\hyperlink{class_c_fonction_server_ab4c97b4812403ad526b3cfe6709190af}{noctets}};}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00112}00112 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00113}00113     std::string placervosbateaux = \textcolor{stringliteral}{"{}Serveur: Placez vos beateux"{}};}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00114}00114     send(\mbox{\hyperlink{class_c_fonction_server_a31b1a03bca62ca426f7d98e34ed9e496}{ids\_connect}}, placervosbateaux.c\_str(), placervosbateaux.size() + 1, 0);}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00115}00115     send(\mbox{\hyperlink{class_c_fonction_server_ac6b682d33f038a956da36c862ffc1484}{ids\_connect1}}, placervosbateaux.c\_str(), placervosbateaux.size() + 1, 0);}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00116}00116 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00117}00117     std::string Avous = \textcolor{stringliteral}{"{}Serveur: votre tour de jouer"{}};}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00118}00118 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00119}00119     \textcolor{comment}{//echange client serveur peroquet sauf pour BYE}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00120}00120     \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00121}00121     \{}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00122}00122 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00123}00123         send(\mbox{\hyperlink{class_c_fonction_server_a31b1a03bca62ca426f7d98e34ed9e496}{ids\_connect}}, Avous.c\_str(), Avous.size() + 1, 0);}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00124}00124         \mbox{\hyperlink{class_c_fonction_server_ab4c97b4812403ad526b3cfe6709190af}{noctets}} = recv(\mbox{\hyperlink{class_c_fonction_server_a31b1a03bca62ca426f7d98e34ed9e496}{ids\_connect}}, trame\_lect, \mbox{\hyperlink{class_c_fonction_server_a55ac9ccdcf4081d228fb8f4e633f893a}{DIMMAX}}, 0);}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00125}00125         trame\_lect[\mbox{\hyperlink{class_c_fonction_server_ab4c97b4812403ad526b3cfe6709190af}{noctets}}] = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00126}00126         recive = trame\_lect; }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00127}00127         send(\mbox{\hyperlink{class_c_fonction_server_ac6b682d33f038a956da36c862ffc1484}{ids\_connect1}}, recive.c\_str(), recive.size() + 1, 0);}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00128}00128 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00129}00129         Sleep(30); \textcolor{comment}{//a verif ?}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00130}00130 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00131}00131         send(\mbox{\hyperlink{class_c_fonction_server_ac6b682d33f038a956da36c862ffc1484}{ids\_connect1}}, Avous.c\_str(), Avous.size() + 1, 0);}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00132}00132         \mbox{\hyperlink{class_c_fonction_server_ab4c97b4812403ad526b3cfe6709190af}{noctets}} = recv(\mbox{\hyperlink{class_c_fonction_server_ac6b682d33f038a956da36c862ffc1484}{ids\_connect1}}, trame\_lect, \mbox{\hyperlink{class_c_fonction_server_a55ac9ccdcf4081d228fb8f4e633f893a}{DIMMAX}}, 0);}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00133}00133         trame\_lect[\mbox{\hyperlink{class_c_fonction_server_ab4c97b4812403ad526b3cfe6709190af}{noctets}}] = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00134}00134         recive = trame\_lect;}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00135}00135         send(\mbox{\hyperlink{class_c_fonction_server_a31b1a03bca62ca426f7d98e34ed9e496}{ids\_connect}}, recive.c\_str(), recive.size() + 1, 0);}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00136}00136 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00137}00137 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00138}00138     \} \textcolor{keywordflow}{while} (recive != \textcolor{stringliteral}{"{}BYE"{}});}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00139}00139 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00140}00140 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00141}00141     \textcolor{comment}{// fermeture des sockets ouverts}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00142}00142     closesocket(\mbox{\hyperlink{class_c_fonction_server_a31b1a03bca62ca426f7d98e34ed9e496}{ids\_connect}});}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00143}00143     closesocket(\mbox{\hyperlink{class_c_fonction_server_ac6b682d33f038a956da36c862ffc1484}{ids\_connect1}});}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00144}00144 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00145}00145 \};}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00146}00146 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00152}\mbox{\hyperlink{class_c_fonction_server_ae4104e1e6b084c0ba4888bb47d98b71e}{00152}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_c_fonction_server_ae4104e1e6b084c0ba4888bb47d98b71e}{CFonctionServer::sending}}(\mbox{\hyperlink{_c_fonction_server_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} ids\_connect, std::string message)}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00153}00153 \{}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00154}00154     send(\mbox{\hyperlink{class_c_fonction_server_a31b1a03bca62ca426f7d98e34ed9e496}{ids\_connect}}, message.c\_str(), message.size() + 1, 0);}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00155}00155 \};}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00156}00156 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00162}\mbox{\hyperlink{class_c_fonction_server_aee716e6d8c645ecc19a200bf533ad077}{00162}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_c_fonction_server_aee716e6d8c645ecc19a200bf533ad077}{CFonctionServer::reciving}}(\mbox{\hyperlink{_c_fonction_server_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} ids\_connect, \mbox{\hyperlink{_c_fonction_server_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} ids\_connect1, std::string\& message)}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00163}00163 \{}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00164}00164     \textcolor{keyword}{const} \mbox{\hyperlink{_c_fonction_server_8h_ab95f123a6c9bcfee6a343170ef8c5f69}{ushort}} \mbox{\hyperlink{class_c_fonction_server_a55ac9ccdcf4081d228fb8f4e633f893a}{DIMMAX}} = 150; \textcolor{comment}{// Taille max des tableaux}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00165}00165 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00166}00166 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00167}00167     \textcolor{keywordtype}{char} trame\_lect[\mbox{\hyperlink{class_c_fonction_server_a55ac9ccdcf4081d228fb8f4e633f893a}{DIMMAX}} + 1];}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00168}00168     std::string recive;}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00169}00169 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00170}00170     \mbox{\hyperlink{_c_fonction_server_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} \mbox{\hyperlink{class_c_fonction_server_ab4c97b4812403ad526b3cfe6709190af}{noctets}} = recv(\mbox{\hyperlink{class_c_fonction_server_a31b1a03bca62ca426f7d98e34ed9e496}{ids\_connect}}, trame\_lect, \mbox{\hyperlink{class_c_fonction_server_a55ac9ccdcf4081d228fb8f4e633f893a}{DIMMAX}}, 0);}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00171}00171     trame\_lect[\mbox{\hyperlink{class_c_fonction_server_ab4c97b4812403ad526b3cfe6709190af}{noctets}}] = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00172}00172     recive = trame\_lect;}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00173}00173     send(\mbox{\hyperlink{class_c_fonction_server_ac6b682d33f038a956da36c862ffc1484}{ids\_connect1}}, recive.c\_str(), recive.size() + 1, 0);}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00174}00174 \};}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00175}00175 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00179}\mbox{\hyperlink{class_c_fonction_server_a69d35c2463d07ff939bbd6a3d34d7bba}{00179}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_c_fonction_server_a69d35c2463d07ff939bbd6a3d34d7bba}{CFonctionServer::FermeturWinSock}}()}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00180}00180 \{}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00181}00181     WSACleanup();}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00182}00182     std::cout << \textcolor{stringliteral}{"{}fermeture de winsock "{}} << std::endl; \textcolor{comment}{//pour le debug }}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00183}00183 \}}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00184}00184 }
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00189}\mbox{\hyperlink{class_c_fonction_server_a7f98e72cecf07e48e2c45dda024ac2fd}{00189}} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_c_fonction_server_a7f98e72cecf07e48e2c45dda024ac2fd}{CFonctionServer::fermetureSockEcoute}}()}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00190}00190 \{}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00191}00191     closesocket(\mbox{\hyperlink{class_c_fonction_server_ac09fb8572cdfd9b5f57c84f7b69327d3}{ids\_ecoute}});}
\DoxyCodeLine{\Hypertarget{_c_fonction_server_8cpp_source_l00192}00192 \}}

\end{DoxyCode}
